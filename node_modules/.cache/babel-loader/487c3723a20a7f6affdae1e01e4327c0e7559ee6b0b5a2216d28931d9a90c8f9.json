{"ast":null,"code":"// src/util/global.js\nvar actualGlobal;\nif (typeof globalThis !== \"undefined\") {\n  actualGlobal = globalThis;\n} else if (typeof window !== \"undefined\") {\n  actualGlobal = window;\n} else if (typeof global !== \"undefined\") {\n  actualGlobal = global;\n} else if (typeof self !== \"undefined\") {\n  actualGlobal = self;\n} else {\n  actualGlobal = {};\n}\nvar global_default = actualGlobal;\n\n// src/middleware/observable.js\nvar observable_default = function observable_default() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var Observable = opts.implementation || global_default.Observable;\n  if (!Observable) {\n    throw new Error(\"`Observable` is not available in global scope, and no implementation was passed\");\n  }\n  return {\n    onReturn: function onReturn(channels, context) {\n      return new Observable(function (observer) {\n        channels.error.subscribe(function (err) {\n          return observer.error(err);\n        });\n        channels.progress.subscribe(function (event) {\n          return observer.next(Object.assign({\n            type: \"progress\"\n          }, event));\n        });\n        channels.response.subscribe(function (response) {\n          observer.next(Object.assign({\n            type: \"response\"\n          }, response));\n          observer.complete();\n        });\n        channels.request.publish(context);\n        return function () {\n          return channels.abort.publish();\n        };\n      });\n    }\n  };\n};\nexport { observable_default };","map":{"version":3,"mappings":";AAAA,IAAIA;AAGJ,IAAI,OAAOC,eAAe,aAAa;EACrCD,eAAeC;AACjB,WAAW,OAAOC,WAAW,aAAa;EACxCF,eAAeE;AACjB,WAAW,OAAOC,WAAW,aAAa;EACxCH,eAAeG;AACjB,WAAW,OAAOC,SAAS,aAAa;EACtCJ,eAAeI;AACjB,OAAO;EACLJ,eAAe,CAAC;AAClB;AAEA,IAAOK,iBAAQL;;;ACbf,IAAOM,qBAAQ,SAARA,qBAAuB;EAAA,IAAdC,2EAAO,CAAC;EACtB,IAAMC,aAAaD,KAAKE,kBAAkBJ,eAAOG;EACjD,IAAI,CAACA,YAAY;IACf,MAAM,IAAIE,MACR,kFACF;EACF;EAEA,OAAO;IACLC,UAAU,kBAACC,UAAUC;MAAA,OACnB,IAAIL,WAAW,oBAAY;QACzBI,SAASE,MAAMC,UAAU;UAAA,OAAOC,SAASF,MAAMG,GAAG,CAAC;QAAA;QACnDL,SAASM,SAASH,UAAU;UAAA,OAC1BC,SAASG,KAAKC,OAAOC,OAAO;YAACC,MAAM;UAAU,GAAGC,KAAK,CAAC;QAAA,EACxD;QACAX,SAASY,SAAST,UAAU,oBAAY;UACtCC,SAASG,KAAKC,OAAOC,OAAO;YAACC,MAAM;UAAU,GAAGE,QAAQ,CAAC;UACzDR,SAASS,UAAS;QACpB,CAAC;QAEDb,SAASc,QAAQC,QAAQd,OAAO;QAChC,OAAO;UAAA,OAAMD,SAASgB,MAAMD,SAAQ;QAAA;MACtC,CAAC;IAAA;EACL;AACF","names":["actualGlobal","globalThis","window","global","self","global_default","observable_default","opts","Observable","implementation","Error","onReturn","channels","context","error","subscribe","observer","err","progress","next","Object","assign","type","event","response","complete","request","publish","abort"],"sources":["C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\node_modules\\@sanity\\client\\node_modules\\get-it\\src\\util\\global.js","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\node_modules\\@sanity\\client\\node_modules\\get-it\\src\\middleware\\observable.js"],"sourcesContent":["let actualGlobal\n/* global globalThis */\n/* eslint-disable no-negated-condition */\nif (typeof globalThis !== 'undefined') {\n  actualGlobal = globalThis\n} else if (typeof window !== 'undefined') {\n  actualGlobal = window\n} else if (typeof global !== 'undefined') {\n  actualGlobal = global\n} else if (typeof self !== 'undefined') {\n  actualGlobal = self\n} else {\n  actualGlobal = {}\n}\n\nexport default actualGlobal\n","import global from '../util/global'\n\nexport default (opts = {}) => {\n  const Observable = opts.implementation || global.Observable\n  if (!Observable) {\n    throw new Error(\n      '`Observable` is not available in global scope, and no implementation was passed'\n    )\n  }\n\n  return {\n    onReturn: (channels, context) =>\n      new Observable(observer => {\n        channels.error.subscribe(err => observer.error(err))\n        channels.progress.subscribe(event =>\n          observer.next(Object.assign({type: 'progress'}, event))\n        )\n        channels.response.subscribe(response => {\n          observer.next(Object.assign({type: 'response'}, response))\n          observer.complete()\n        })\n\n        channels.request.publish(context)\n        return () => channels.abort.publish()\n      })\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}