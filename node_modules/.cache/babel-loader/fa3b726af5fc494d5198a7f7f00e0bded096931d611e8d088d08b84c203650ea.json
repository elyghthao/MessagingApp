{"ast":null,"code":"import { isPlainObject } from \"./chunk-P7IHHPD7.mjs\";\n\n// src/middleware/jsonRequest.js\nvar serializeTypes = [\"boolean\", \"string\", \"number\"];\nvar isBuffer = function isBuffer(obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === \"function\" && obj.constructor.isBuffer(obj);\n};\nvar jsonRequest_default = function jsonRequest_default() {\n  return {\n    processOptions: function processOptions(options) {\n      var body = options.body;\n      if (!body) {\n        return options;\n      }\n      var isStream = typeof body.pipe === \"function\";\n      var shouldSerialize = !isStream && !isBuffer(body) && (serializeTypes.indexOf(typeof body) !== -1 || Array.isArray(body) || isPlainObject(body));\n      if (!shouldSerialize) {\n        return options;\n      }\n      return Object.assign({}, options, {\n        body: JSON.stringify(options.body),\n        headers: Object.assign({}, options.headers, {\n          \"Content-Type\": \"application/json\"\n        })\n      });\n    }\n  };\n};\nexport { jsonRequest_default };","map":{"version":3,"mappings":";;;AAEA,IAAMA,iBAAiB,CAAC,WAAW,UAAU,QAAQ;AACrD,IAAMC,WAAW,SAAXA,SAAWC;EAAA,OACf,CAAC,CAACA,IAAIC,eACN,OAAOD,IAAIC,YAAYF,aAAa,cACpCC,IAAIC,YAAYF,SAASC,GAAG;AAAA;AAE9B,IAAOE,sBAAQ,SAARA;EAAA,OAAe;IACpBC,gBAAgB,iCAAW;MACzB,IAAMC,OAAOC,QAAQD;MACrB,IAAI,CAACA,MAAM;QACT,OAAOC;MACT;MAEA,IAAMC,WAAW,OAAOF,KAAKG,SAAS;MACtC,IAAMC,kBACJ,CAACF,YACD,CAACP,SAASK,IAAI,MACbN,eAAeW,QAAQ,OAAOL,IAAI,MAAM,MAAMM,MAAMC,QAAQP,IAAI,KAAKQ,cAAcR,IAAI;MAE1F,IAAI,CAACI,iBAAiB;QACpB,OAAOH;MACT;MAEA,OAAOQ,OAAOC,OAAO,CAAC,GAAGT,SAAS;QAChCD,MAAMW,KAAKC,UAAUX,QAAQD,IAAI;QACjCa,SAASJ,OAAOC,OAAO,CAAC,GAAGT,QAAQY,SAAS;UAC1C,gBAAgB;QAClB,CAAC;MACH,CAAC;IACH;EACF;AAAA","names":["serializeTypes","isBuffer","obj","constructor","jsonRequest_default","processOptions","body","options","isStream","pipe","shouldSerialize","indexOf","Array","isArray","isPlainObject","Object","assign","JSON","stringify","headers"],"sources":["C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\node_modules\\@sanity\\client\\node_modules\\get-it\\src\\middleware\\jsonRequest.js"],"sourcesContent":["import {isPlainObject} from 'is-plain-object'\n\nconst serializeTypes = ['boolean', 'string', 'number']\nconst isBuffer = obj =>\n  !!obj.constructor &&\n  typeof obj.constructor.isBuffer === 'function' &&\n  obj.constructor.isBuffer(obj)\n\nexport default () => ({\n  processOptions: options => {\n    const body = options.body\n    if (!body) {\n      return options\n    }\n\n    const isStream = typeof body.pipe === 'function'\n    const shouldSerialize =\n      !isStream &&\n      !isBuffer(body) &&\n      (serializeTypes.indexOf(typeof body) !== -1 || Array.isArray(body) || isPlainObject(body))\n\n    if (!shouldSerialize) {\n      return options\n    }\n\n    return Object.assign({}, options, {\n      body: JSON.stringify(options.body),\n      headers: Object.assign({}, options.headers, {\n        'Content-Type': 'application/json'\n      })\n    })\n  }\n})\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}