[{"C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\index.js":"1","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\reportWebVitals.js":"2","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\App.js":"3","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\redux\\store.js":"4","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\redux\\userSlice.js":"5","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\redux\\counterSlice.js":"6","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\Components\\index.js":"7","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\Components\\Main.js":"8","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\Components\\Navbar.js":"9","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\Components\\TextEntry.js":"10","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\client.js":"11"},{"size":621,"mtime":1676238356230,"results":"12","hashOfConfig":"13"},{"size":362,"mtime":1675458128849,"results":"14","hashOfConfig":"13"},{"size":508,"mtime":1676238984276,"results":"15","hashOfConfig":"13"},{"size":238,"mtime":1676084683550,"results":"16","hashOfConfig":"13"},{"size":427,"mtime":1676084914870,"results":"17","hashOfConfig":"13"},{"size":593,"mtime":1676083963995,"results":"18","hashOfConfig":"13"},{"size":135,"mtime":1676085342891,"results":"19","hashOfConfig":"13"},{"size":2383,"mtime":1676239046418,"results":"20","hashOfConfig":"13"},{"size":1569,"mtime":1676236271627,"results":"21","hashOfConfig":"13"},{"size":3658,"mtime":1676240280247,"results":"22","hashOfConfig":"13"},{"size":417,"mtime":1675458768865,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"17wzr4",{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49"},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57"},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\index.js",[],[],"C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\reportWebVitals.js",[],[],"C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\App.js",["61"],[],"// import logo from './logo.svg';\n// import React, { useState, useEffect } from 'react'\n// import { motion } from 'framer-motion';\n// import { urlFor, client } from './client';\nimport { useSelector } from 'react-redux';\n\nimport { Main, Navbar, TextEntry } from './Components';\n\nimport React from 'react';\n\n\n\nconst App = () => {\n\n\n  return (\n      <div className=\"bg-stone-200\n      h-screen\n      w-screen\">\n        <Navbar />\n        <Main />\n        <TextEntry />\n      </div>\n\n  );\n}\n\nexport default App;\n","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\redux\\store.js",[],[],"C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\redux\\userSlice.js",[],[],"C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\redux\\counterSlice.js",[],[],"C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\Components\\index.js",[],[],"C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\Components\\Main.js",["62","63","64","65","66","67","68"],[],"import React, { useState, useEffect } from 'react'\r\nimport { motion } from 'framer-motion';\r\nimport { client, urlFor } from '../client';\r\nimport pikachu from '../assets/pikachu.png'\r\n\r\n\r\nfunction Main() {\r\n  const [message, setMessage] = useState([]);\r\n  const [reload, setReload] = useState(0);\r\n  let size = 0;\r\n  useEffect(() => {//called once whenthe site first loads\r\n    const query = '*[_type == \"message\"]'\r\n    client.fetch(query).then((data) => { \r\n      size = data.length;\r\n      // console.log(\"size is: \" + size);\r\n      setMessage(data);\r\n    }\r\n    )\r\n  }, [])\r\n\r\n  useEffect(()=>{\r\n    setInterval(()=>{\r\n      const query = '*[_type == \"message\"]'\r\n      client.fetch(query).then((data) => { \r\n        // console.log(data);\r\n        // console.log(\"current size is: \" + size)\r\n        if(size != data.length){\r\n          // console.log(\"change!\");\r\n          size = data.length;\r\n          setMessage(data);\r\n        }})\r\n    }, 2000)\r\n  }, [])\r\n\r\n\r\n\r\n\r\n    \r\n\r\n  message.sort(function(a, b) {\r\n    var keyA = new Date(a._createdAt),\r\n      keyB = new Date(b._createdAt);\r\n    // Compare the 2 dates\r\n    if (keyA < keyB) return -1;\r\n    if (keyA > keyB) return 1;\r\n    return 0;\r\n  });\r\n\r\n\r\n  // message.sort();\r\n  // console.log(message);\r\n  return (\r\n    <div className=\"\r\n    bg-stone-200\r\n      w-screen\r\n      block\">\r\n      {/* <h1 className=''>Main</h1> */}\r\n      <div className='bg-stone-200 p-5 w-full'></div>\r\n\r\n\r\n      <div>\r\n        {message.map((msg, index) => (\r\n          <div className='pt-5 px-10 rounded-1/8 bg-stone-200' key={index}>\r\n            <div className='\r\n              bg-green-400\r\n              rounded-full\r\n              flex \r\n              justify-center items-center\r\n              '>\r\n              <h1 className='text-2xl font-medium'>{msg.content}</h1>\r\n            </div>\r\n\r\n            <div className='flex justify-center items-center'>\r\n               {msg.img && \r\n               <img src={urlFor(msg.img)} alt={msg.timestamp} className=\r\n               {`object-cover w-1/4 p-1 ${(index === message.length-1) ? 'pt-1 pb-14': ''}`} />\r\n               }\r\n            </div>\r\n\r\n            \r\n            {/* <img src={pikachu} alt={msg.timestamp} className=\r\n               {`object-scale-down h-48 w-96`} /> */}\r\n            \r\n\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\Components\\Navbar.js",["69"],[],"\r\nimport React, { useState, useEffect } from 'react'\r\n// import { motion } from 'framer-motion';\r\nimport { urlFor, client } from '../client';\r\nimport { motion } from 'framer-motion';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { setUser } from '../redux/userSlice';\r\n\r\n\r\nfunction Navbar() {\r\n  const [users, setUsers] = useState([]);\r\n  useEffect(() => {//called once whenthe site first loads\r\n    const query = '*[_type == \"profile\"]'\r\n    client.fetch(query)\r\n      .then((data) => { setUsers(data); })\r\n  }, [])\r\n\r\n  const name = useSelector(state => state.user.name)\r\n  const dispatch = useDispatch()\r\n  // console.log(\"name is: \" + name);\r\n  \r\n\r\n  let currentUser = users[0];\r\n\r\n  var imgUrl;\r\n  try {\r\n    imgUrl =  urlFor(currentUser.img);\r\n  } catch (error) {\r\n  }\r\n  // console.log(users);\r\n\r\n  return (\r\n    <div className=\"\r\n    bg-blue-500 \r\n    w-screen \r\n    h-14\r\n    auto-cols-auto\r\n    fixed\r\n    flex \r\n    top-0\r\n    justify-center items-center\r\n    \">\r\n      <div>\r\n        <h1 onClick={() => dispatch(setUser(\"Elygh Thao\"))} className='\r\n        text-2xl\r\n        font-bold\r\n        h-fit\r\n        w-fit\r\n        '>Text A Message!</h1>\r\n      </div>\r\n      <div className='\r\n      absolute\r\n      top-1 right-2\r\n      '>\r\n        <motion.img\r\n        whileInView={{}}\r\n        whileHover={{ scale: 1.2 }}\r\n        transition={{ duration: .2, ease: 'easeInOut' }}\r\n        src={imgUrl}\r\n        alt=\"\"\r\n        className=\"rounded-full object-cover h-12 w-12\"\r\n      />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navbar;","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\Components\\TextEntry.js",["70"],[],"\r\n// import React, { useState, useEffect } from 'react'\r\n// import { motion } from 'framer-motion';\r\n// import { urlFor, client } from '../client';\r\nimport React,{ useState } from \"react\";\r\nimport { client, urlFor } from '../client';\r\nimport { Button } from 'react-bootstrap'\r\nimport { motion } from 'framer-motion'\r\n\r\n\r\nfunction TextEntry() {\r\n  const inputRef = React.useRef(null);\r\n\r\n\r\n  const [selectedFile, setSelectedFile] = useState(\"\");\r\n  const [preview, setPreview] = useState(\"\");\r\n  const [msg, setMsg] = useState(\"\");\r\n\r\n\r\n  const handleKeyDown = (event) => {\r\n    if (event.key === 'Enter') {\r\n      // 👇 Get input value\r\n      // console.log(\"Message: \" + event.target.value);\r\n      // console.log(selectedFile);\r\n      createDoc();\r\n      event.target.value = \"\";\r\n\r\n      // client.delete({query: '*[_type == \"message\" && _id == \"Pfyhvf2287QNe3dmP9z5Ot\"][0...999]'})\r\n\r\n    }\r\n  };\r\n\r\n  const createDoc = () => {\r\n    let documentId = '';\r\n    let imageId = '';\r\n\r\n    const doc = {\r\n      _type: 'message',\r\n      content: msg,\r\n      profile: \"Elygh Thao\",\r\n    }\r\n    client.create(doc).then((res) => {\r\n      documentId = res._id;\r\n      console.log(\"documentId: \" + documentId);\r\n      // console.log(`Bike was created, document ID is ${res._id}`)\r\n      if (selectedFile !== \"\") {\r\n        client.assets.upload('image', selectedFile, { contentType: 'image', filename: 'someText.png' })\r\n          .then((document) => {\r\n            imageId = document._id;\r\n            console.log(\"imageId:\" + imageId);\r\n            // console.log('The image was uploaded!', document)\r\n\r\n            client.patch(documentId)\r\n              .set({\r\n                img: {\r\n                  _type: \"image\",\r\n                  asset: {\r\n                    _ref: imageId,\r\n                    _type: \"reference\"\r\n                  }\r\n                }\r\n              }).commit().then((updatedBike) => {\r\n                console.log(\"updated change\")\r\n              })\r\n\r\n          })\r\n      }\r\n\r\n\r\n\r\n    })\r\n    setMsg(\"\");\r\n    setSelectedFile(\"\");\r\n    setPreview(\"\");\r\n  }\r\n\r\n  const onButtonClick = (e) => {\r\n    // console.log(\"button click\");\r\n    // console.log(inputRef.current.value);\r\n    inputRef.current.value = \"\";\r\n    if(msg !== \"\" || selectedFile !== \"\"){\r\n      createDoc();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"\r\n      bg-blue-500 \r\n      w-screen \r\n      h-10\r\n      auto-cols-auto\r\n      fixed\r\n      flex\r\n      flex-row\r\n      bottom-0\r\n      \">\r\n      <div className=\"\r\n        \r\n        w-3/4\r\n        flex\r\n        p-1\r\n        \">\r\n        <input type=\"text\"\r\n          id=\"message\"\r\n          onKeyDown={handleKeyDown}\r\n          className=\"w-screen\"\r\n          ref={inputRef}\r\n          onChange={(e) => {\r\n            setMsg(e.target.value);\r\n          }} />\r\n      </div>\r\n\r\n      <div className=\"\r\n        flex\r\n        justify-left\r\n        w-1/4\r\n        align-middle\">\r\n        <input type=\"file\"\r\n          className=\"opacity-0 -z-3 fixed w-8\"\r\n          \r\n          onChange={(e) => {\r\n            setSelectedFile(e.target.files[0]);\r\n            setPreview(URL.createObjectURL(e.target.files[0]));\r\n          }} />\r\n        <img src={preview} alt=\" \" className=\"\r\n            w-8\"/>\r\n\r\n        <motion.div\r\n        whileTap={{ scale: 1.1 }}\r\n        className=\"\r\n        mt-2\r\n        w-1/2\r\n        \">\r\n          <Button className=\"\r\n        bg-slate-600\r\n        text-white\r\n        rounded-lg\r\n        h-fit\r\n        w-full\r\n        \"\r\n            onClick={onButtonClick}>\r\n            Submit\r\n          </Button>\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TextEntry;","C:\\Users\\elygh\\Desktop\\MessagingApp_FullStack\\MessagingApp\\src\\client.js",[],[],{"ruleId":"71","severity":1,"message":"72","line":5,"column":10,"nodeType":"73","messageId":"74","endLine":5,"endColumn":21},{"ruleId":"71","severity":1,"message":"75","line":2,"column":10,"nodeType":"73","messageId":"74","endLine":2,"endColumn":16},{"ruleId":"71","severity":1,"message":"76","line":4,"column":8,"nodeType":"73","messageId":"74","endLine":4,"endColumn":15},{"ruleId":"71","severity":1,"message":"77","line":9,"column":10,"nodeType":"73","messageId":"74","endLine":9,"endColumn":16},{"ruleId":"71","severity":1,"message":"78","line":9,"column":18,"nodeType":"73","messageId":"74","endLine":9,"endColumn":27},{"ruleId":"79","severity":1,"message":"80","line":14,"column":14,"nodeType":"81","endLine":14,"endColumn":25},{"ruleId":"82","severity":1,"message":"83","line":27,"column":17,"nodeType":"84","messageId":"85","endLine":27,"endColumn":19},{"ruleId":"79","severity":1,"message":"80","line":29,"column":18,"nodeType":"81","endLine":29,"endColumn":29},{"ruleId":"71","severity":1,"message":"86","line":18,"column":9,"nodeType":"73","messageId":"74","endLine":18,"endColumn":13},{"ruleId":"71","severity":1,"message":"87","line":6,"column":18,"nodeType":"73","messageId":"74","endLine":6,"endColumn":24},"no-unused-vars","'useSelector' is defined but never used.","Identifier","unusedVar","'motion' is defined but never used.","'pikachu' is defined but never used.","'reload' is assigned a value but never used.","'setReload' is assigned a value but never used.","react-hooks/exhaustive-deps","Assignments to the 'size' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","MemberExpression","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'name' is assigned a value but never used.","'urlFor' is defined but never used."]